<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<div class="container">
    <h1>Admin Dashboard</h1>

    <!-- Child Selection Section -->
    <section class="selection-container">
        <h2>Select Children</h2>
        <div class="selection-box">
            <label for="child-selection">Choose Children:</label>
            <select id="child-selection" multiple required>
                <option value="child1">Child 1</option>
                <option value="child2">Child 2</option>
                <option value="child3">Child 3</option>
                <!-- Additional child options here -->
            </select>
        </div>
        <button class="selection-button" type="button" onclick="addToGroup()">Add to Group</button>
    </section>

    <hr>

    <!-- Group Section -->
    <section class="selection-container">
        <h2>Current Group</h2>
        <div id="group-container" class="selection-box">
            <!-- Dynamically filled with children added to the group -->
            <p id="no-children-text">No children selected yet.</p>
        </div>
        <button class="selection-button" type="button" onclick="clearGroup()">Clear Group</button>
        <!-- Play Button -->
        <button class="selection-button" onclick="window.location.href='/index'">Play</button>
    </section>

    <hr>

    <!-- Logout Button -->
    <div class="logout-container">
        <form action="/logout" method="post">
            <button type="submit" class="logout-button">Log Out</button>
        </form>
    </div>
</div>


<script>
    // Adds selected children to the Current Group section
    function addToGroup() {
        const selectedChildren = document.getElementById("child-selection");
        const groupContainer = document.getElementById("group-container");
        const noChildrenText = document.getElementById("no-children-text");

        // Remove "No children selected yet" message if it's there
        if (noChildrenText) {
            noChildrenText.remove();
        }

        // Loop through selected options and add them to the group
        Array.from(selectedChildren.selectedOptions).forEach(option => {
            const childDiv = document.createElement("div");
            childDiv.className = "group-child";
            childDiv.textContent = option.textContent;
            groupContainer.appendChild(childDiv);

            // Optionally, deselect the child after adding
            option.selected = false;
        });
    }

    // Clears the Current Group section
    function clearGroup() {
        const groupContainer = document.getElementById("group-container");
        groupContainer.innerHTML = "<p id='no-children-text'>No children selected yet.</p>";
    }
</script>
</body>
</html>
